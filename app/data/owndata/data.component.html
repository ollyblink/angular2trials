<div class="container">

  <span>{{message}}</span>
  <br/>
  <h2>User {{user}}: data</h2>
  <p>Below you can see all your added data sets</p>

  <div>
    Allow other users to view my data: <a (click)="grantConsent()">[click here]</a>
  </div>
  <table class="table table-striped">
    <thead>
    <tr>
      <th>Title</th>
      <th>Added on</th>
      <th>FVC</th>
      <th>FEV 1</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of spirometryData">
      <td>{{data.title}}</td>
      <td>{{data.dateTime}}</td>
      <td>{{data.fvc}}</td>
      <td>{{data.fev1}}</td>
      <td><a (click)="deleteItem(data.title)">delete</a></td>
    </tr>
    </tbody>
  </table>

  <br/>
  <div class="additem">
    <a (click)="showAddItem()" *ngIf="!isAddItemShown">Add new data item</a>
    <a (click)="showAddItem()" *ngIf="isAddItemShown">Hide add new data item</a>
    <div *ngIf="isAddItemShown">
      <form (ngSubmit)="addItem()">
        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" class="form-control" id="title" required [(ngModel)]="dataItem.title" name="title">
        </div>
        <div class="form-group">
          <label for="fvc">FVC</label>
          <input type="text" class="form-control" id="fvc" required [(ngModel)]="dataItem.fvc" name="fvc">
        </div>
        <div class="form-group">
          <label for="fev1">FEV 1</label>
          <input type="text" class="form-control" id="fev1" required [(ngModel)]="dataItem.fev1" name="fev1">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
    </div>
  </div>



</div>
